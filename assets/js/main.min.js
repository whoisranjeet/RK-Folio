document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("hireMeBtn");if(e)e.addEventListener("click",function(e){e.preventDefault();var t=document.getElementById("contact");t&&t.scrollIntoView({behavior:"smooth"})});function t(e,t){var n=e.getBoundingClientRect(),o=t.clientX-n.left,r=t.clientY-n.top,a=n.width/2,i=n.height/2,d=(r-i)/i*e.dataset.rx,s=(o-a)/a*e.dataset.ry;e.style.transform="scale("+e.dataset.scale+") rotateX("+d+"deg) rotateY("+s+"deg)",e.classList.add("hovered")}function n(e){e.style.transform="",e.classList.remove("hovered")}window.toggleMenu=function(){var e=document.getElementById("mobile-menu");e&&e.classList.toggle("hidden")};if(window.gsap){gsap.to("#hero-title",{opacity:1,y:0,duration:1,ease:"power4.out"}),gsap.to("#hero-subtitle",{opacity:1,y:0,duration:1,delay:.3,ease:"power4.out"}),gsap.to("#hero-cta",{opacity:1,y:0,duration:1,delay:.6,ease:"power4.out"}),gsap.registerPlugin&&gsap.registerPlugin(ScrollTrigger),gsap.utils&&gsap.utils.toArray(".project-card").forEach(function(e,t){gsap.from(e,{scrollTrigger:{trigger:e,start:"top bottom-=100",toggleActions:"play none none reverse"},opacity:0,y:50,duration:.6,delay:.1*t})});var o=document.getElementById("collab-rotator");o&&(o.style.animation="collab-rotate 18s linear infinite")}var r=document.getElementById("skills-slider");if(r){var a=r.parentElement,i=2*a.offsetWidth,d=r.scrollWidth,s=[];for(;d<i;)Array.from(r.children).forEach(function(e){var t=e.cloneNode(!0);t.setAttribute("aria-hidden","true"),r.appendChild(t),s.push(t)}),d=r.scrollWidth;var l=0;!function e(){l-=.5,Math.abs(l)>=d/2&&(l=0),r.style.transform="translateX("+l+"px)",requestAnimationFrame(e)}()}var c=document.getElementById("goTopBtn");c&&(window.addEventListener("scroll",function(){window.scrollY>300?c.style.display="block":c.style.display="none"}),c.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})}),c.addEventListener("mousemove",function(e){var t=c.getBoundingClientRect(),n=e.clientX-t.left,o=e.clientY-t.top,r=t.width/2,a=t.height/2,i=(o-a)/a*28,d=(n-r)/r*-28;c.style.setProperty("--rotateX",i+"deg"),c.style.setProperty("--rotateY",d+"deg"),c.style.transform="scale(1.18) rotateX("+i+"deg) rotateY("+d+"deg)",c.classList.add("hovered")}),c.addEventListener("mouseleave",function(){c.style.transform="",c.classList.remove("hovered")}),c.addEventListener("mouseenter",function(){c.classList.add("hovered")})),document.querySelectorAll(".project-card").forEach(function(e){e.dataset.rx=6,e.dataset.ry=-6,e.dataset.scale=1.035,e.addEventListener("mousemove",function(n){t(e,n)}),e.addEventListener("mouseleave",function(){n(e)}),e.addEventListener("mouseenter",function(){e.classList.add("hovered")})});var m=document.getElementById("contact-form");m&&m.addEventListener("submit",function(e){e.preventDefault();var t=document.getElementById("name").value.trim(),n=document.getElementById("email").value.trim(),o=document.getElementById("message").value.trim();function r(e){return e.replace(/[&<>"]/g,function(e){return{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"}[e]||e})}t&&(t=t[0].toUpperCase()+t.slice(1)),o&&(o=o.replace(/\s+/g," "),o=o[0].toUpperCase()+o.slice(1),o=o.replace(/([.!?]\s+)([a-z])/g,function(e,t,n){return t+n.toUpperCase()})),t=r(t),n=r(n),o=r(o),window.emailjs&&(Swal.fire({title:"Sending...",text:"Please wait while we send your message.",allowOutsideClick:!1,didOpen:()=>{Swal.showLoading()}}),emailjs.send("service_kk8t15q","template_dw0j8gr",{from_name:t,from_email:n,message:o}).then(function(){console.log("Admin email sent")},function(){console.error("Failed to send admin email")}),emailjs.send("service_kk8t15q","template_yzlxofp",{from_name:t,from_email:n}).then(function(){Swal.fire({icon:"success",title:"Message Sent!",text:"Your message was sent successfully. Please check your email for confirmation."}),m.reset()},function(){Swal.fire({icon:"error",title:"Oops...",text:"Failed to send the message. Please try again later."})}))})});
